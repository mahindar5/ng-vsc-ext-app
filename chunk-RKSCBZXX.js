import{a as O}from"./chunk-JS3GTCB5.js";import{a as T}from"./chunk-ULWYRSJB.js";import{b as _,c as C,d as y,e as b,f as x,g as w,h as B}from"./chunk-3PP352QF.js";import{a as h,n as D}from"./chunk-JHF7DLME.js";import{$ as l,$a as a,Ab as S,Fa as c,_a as d,a as g,ab as o,b as u,ib as v,ma as f,od as M,qd as A,wa as r,xb as s,zb as p}from"./chunk-56QYQVDV.js";var Q=(()=>{class t{dialog=l(C);snackBar=l(T);settingsService=l(O);aiProcessingService=h(D);isProcessing=f(!1);settings=this.settingsService.settings;ngOnInit(){this.settingsService.initializeModels()}async showAuthenticationAlert(i){let{user_code:e,verification_uri:n,expires_in:m}=i,k=new Date(Date.now()+m*1e3).toLocaleString();return new Promise(E=>{this.dialog.open(I,{width:"450px",data:{user_code:e,verification_uri:n,expirationTime:k}}).afterClosed().subscribe(P=>{E(P===!0)})})}async toggleSideBarOpen(i){let e=this.settingsService.settings();e.sideBarOpen=u(g({},e.sideBarOpen),{[i]:!e.sideBarOpen?.[i]}),this.settingsService.saveSettings(e)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-base-ai"]],decls:0,vars:0,template:function(e,n){},encapsulation:2})}return t})(),I=(()=>{class t{data=l(_);copyAndOpen(){navigator.clipboard.writeText(this.data.user_code).then(()=>window.open(this.data.verification_uri,"_blank"))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["auth-dialog"]],decls:14,vars:6,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",3,"click"],["mat-button","",3,"mat-dialog-close"],["mat-button","","color","primary",3,"mat-dialog-close"]],template:function(e,n){e&1&&(a(0,"h2",0),s(1,"Authentication"),o(),a(2,"mat-dialog-content")(3,"p"),s(4),o(),a(5,"p"),s(6),o()(),a(7,"mat-dialog-actions",1)(8,"button",2),v("click",function(){return n.copyAndOpen()}),s(9),o(),a(10,"button",3),s(11,"Cancel"),o(),a(12,"button",4),s(13,"Completed"),o()()),e&2&&(r(4),S("Please visit ",n.data.verification_uri," and enter code ",n.data.user_code," to authenticate."),r(2),p("Code expires at ",n.data.expirationTime,"."),r(3),p(" Copy (",n.data.user_code,") & Authenticate "),r(),d("mat-dialog-close",!1),r(2),d("mat-dialog-close",!0))},dependencies:[B,y,b,w,x,A,M],encapsulation:2})}return t})();export{Q as a};
