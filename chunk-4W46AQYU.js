import{c as E,d as D,e as y}from"./chunk-CG323MW6.js";import{b as V,d as F}from"./chunk-ULDYZHME.js";import{a as ee,b as te}from"./chunk-SLGQSYUU.js";import{a as Y}from"./chunk-7JRFH5VC.js";import{a as R,b as j,c as H,d as G,e as z}from"./chunk-AI7ETLR3.js";import{a as J,b as K,c as Q,f as X}from"./chunk-ZZYKJDH4.js";import{$ as p,$a as n,Bb as h,Cb as C,Db as _,Fa as b,Ta as S,Ua as g,Va as f,_a as w,ab as o,da as m,ea as u,gb as v,ib as M,jd as A,kc as I,oc as T,od as O,pc as x,qc as B,qd as k,rc as U,rd as Z,sc as W,sd as $,tb as P,vc as q,wa as a,wc as N,xb as l,yb as L}from"./chunk-56QYQVDV.js";function oe(r,ne){r&1&&(n(0,"mat-error"),l(1," Username is required "),o())}function ie(r,ne){r&1&&(n(0,"mat-error"),l(1," Password is required "),o())}var be=(()=>{class r{router=p(F);route=p(V);loginData={username:"",password:""};hidePassword=!0;ngOnInit(){let d=y();D(d,i=>{i&&this.router.navigateByUrl("")})}login(){let d=y();E(d,this.loginData.username,this.loginData.password).then(i=>{let t=i.user;console.log("User logged in:",t);let e=this.route.snapshot.queryParams.returnUrl||"/ai-dashboard";this.router.navigateByUrl(e)}).catch(i=>{let t=i.code,e=i.message;console.error("Login error:",t,e)})}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=b({type:r,selectors:[["app-login"]],decls:25,vars:9,consts:[["loginForm","ngForm"],[1,"login-container"],[3,"ngSubmit"],[1,"form-field-container"],[1,"full-width"],["matInput","","type","text","name","username","required","",3,"ngModelChange","ngModel"],["matInput","","name","password","required","",3,"ngModelChange","type","ngModel"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"button-container"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"]],template:function(i,t){if(i&1){let e=v();n(0,"div",1)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),l(4,"Login"),o()(),n(5,"mat-card-content")(6,"form",2,0),M("ngSubmit",function(){return m(e),u(t.login())}),n(8,"div",3)(9,"mat-form-field",4)(10,"mat-label"),l(11,"Username"),o(),n(12,"input",5),_("ngModelChange",function(s){return m(e),C(t.loginData.username,s)||(t.loginData.username=s),u(s)}),o(),g(13,oe,2,0,"mat-error"),o(),n(14,"mat-form-field",4)(15,"mat-label"),l(16,"Password"),o(),n(17,"input",6),_("ngModelChange",function(s){return m(e),C(t.loginData.password,s)||(t.loginData.password=s),u(s)}),o(),n(18,"button",7),M("click",function(){return m(e),u(t.hidePassword=!t.hidePassword)}),n(19,"mat-icon"),l(20),o()(),g(21,ie,2,0,"mat-error"),o()(),n(22,"div",8)(23,"button",9),l(24,"Login"),o()()()()()()}if(i&2){let e=P(7);a(12),h("ngModel",t.loginData.username),a(),f(!(e==null||e.controls==null||e.controls.username==null)&&e.controls.username.invalid&&(!(e==null||e.controls==null||e.controls.username==null)&&e.controls.username.touched||!(e==null||e.controls==null||e.controls.username==null)&&e.controls.username.dirty)?13:-1),a(4),w("type",t.hidePassword?"password":"text"),h("ngModel",t.loginData.password),a(),S("aria-label","Hide password")("aria-pressed",t.hidePassword),a(2),L(t.hidePassword?"visibility_off":"visibility"),a(),f(!(e==null||e.controls==null||e.controls.password==null)&&e.controls.password.invalid&&(!(e==null||e.controls==null||e.controls.password==null)&&e.controls.password.touched||!(e==null||e.controls==null||e.controls.password==null)&&e.controls.password.dirty)?21:-1),a(2),w("disabled",e.invalid)}},dependencies:[N,W,I,T,x,q,U,B,z,R,H,G,j,Y,X,J,K,Q,te,ee,k,O,A,$,Z],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}mat-card[_ngcontent-%COMP%]{width:100%;max-width:400px}.full-width[_ngcontent-%COMP%]{width:100%}"]})}return r})();export{be as LoginComponent};
