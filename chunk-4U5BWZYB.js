import{$ as h,A as ve,Ba as Y,Bc as Ce,Ca as Se,Dc as ke,Fa as I,Ga as C,Ha as F,Ia as xe,La as D,Lc as et,Ma as k,Mc as tt,Na as se,R as Ue,Sa as qe,Sc as N,Ta as Ze,Tc as ae,Uc as V,Vc as Ee,W as b,X as x,Xb as A,Yc as it,Z as be,Zc as u,_b as Ke,_c as Re,a as g,ac as Je,b as S,ba as te,c as P,e as $e,gd as X,h as y,ha as R,hd as U,ia as O,id as G,n as Xe,oa as we,pa as ie,ra as T,sb as $,ta as Ge,vc as ne,wc as L,xa as re,ya as M,z as ee,za as oe,zc as Qe}from"./chunk-LIMSH4HP.js";var Oe=new Map;function _(i,e=[],t){let r=t||i.name;if(Oe.has(r))return Oe.get(r);let o=new i(...e);return Oe.set(r,o),o}var rt="pjgheakmmcejmgdoojlnjbgbafjoiedg",Ht=class{handleResponse(i){if(chrome.runtime.lastError)throw new Error(chrome.runtime.lastError.message);if(i.error||i.errorMessage||i.message||!i.success){let e=new Error(i.errorMessage||i.message||"Unknown error");if(i.error){let t=JSON.parse(i.error);e=new Error(t.message||"Unknown error"),e.stack=t.stack}throw e}return i}async sendMessageAwait(i,e,t){let r={helper:i,action:e,inputs:t},o=await chrome.runtime.sendMessage(rt,r);return this.handleResponse(o)}async sendMessageCallback(i,e,t){let r={helper:i,action:e,inputs:t};return new Promise((o,s)=>{chrome.runtime.sendMessage(rt,r,n=>{try{o(this.handleResponse(n))}catch(a){s(a)}})})}};var ot=async(i,e,t)=>_(Ht).sendMessageCallback(i,e,t),De=async(i,e,t)=>ot(i,e,t);var Wt=()=>{let i=window.fetch;window.fetch=async(e,t)=>{if(new Headers(t?.headers).get("my-org-extension")){let r=typeof e=="string"?e:e instanceof URL?e.href:e.url;t&&t.headers&&(t.headers instanceof Headers?t.headers.delete("my-org-extension"):Array.isArray(t.headers)?t.headers=t.headers.filter(([l])=>l.toLowerCase()!=="my-org-extension"):typeof t.headers=="object"&&t.headers!==null&&delete t.headers["my-org-extension"]);let o=await De("FetchHelper","fetch",{url:r,options:t}),s,n=o.output.headers?.["Content-Type"]||o.output.headers?.["content-type"]||"application/json";n=n.trim().toLowerCase();let a=o.output.headers?.["Content-Length"]||o.output.headers?.["content-length"];return a&&parseInt(a)===0?s=null:n.includes("application/x-www-form-urlencoded")?s=new URLSearchParams(o.output.body).toString():n.includes("application/xml")||n.includes("text/xml")?s=new DOMParser().parseFromString(o.output.body,"text/xml"):n.includes("application/json")?s=JSON.stringify(o.output.body):n.includes("text/")?s=o.output.body:n.includes("application/octet-stream")||n.includes("multipart/form-data")?s=atob(o.output.body):s=o.output.body,new Response(s,{status:o.output.status||200,statusText:o.output.statusText||"OK",headers:o.output.headers||{"Content-Type":n},url:o.output.url})}else return i(e,t)}};function Pe(i,e,t){let r=Pe.name;i[r]=i[r]||new Map;let o=i[r],s=o.get(e)||[];o.set(e,[...s,t])}var Yt=class{element=null;constructor(i){this.createLoadingElement(i)}createLoadingElement(i){let e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;this.element=document.createElement("div"),this.element.style.position="fixed",this.element.style.top="0",this.element.style.left="0",this.element.style.width="100%",this.element.style.height="100%",this.element.style.backgroundColor=e?"rgba(0, 0, 0, 0.2)":"rgba(255, 255, 255, 0.8)",this.element.style.display="flex",this.element.style.alignItems="center",this.element.style.justifyContent="center",this.element.style.zIndex="9999";let t=document.createElement("div");t.style.padding="20px",t.style.display="flex",t.style.flexDirection="row",t.style.alignItems="center",t.style.gap="16px",t.style.minWidth="250px",t.style.backgroundColor=e?"#1e1e1e":"#f0f0f0",t.style.borderRadius="8px";let r=document.createElement("div");r.style.width="32px",r.style.height="32px",r.style.border="4px solid rgba(0, 0, 0, 0.1)",r.style.borderTopColor="#3498db",r.style.borderRadius="50%",r.style.animation="spin 1s linear infinite";let o=document.createElement("style");o.textContent=`
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `,document.head.appendChild(o);let s=document.createElement("div");s.textContent=i,s.style.color=e?"#c0c0c0":"#404040",t.appendChild(r),t.appendChild(s),this.element.appendChild(t)}async present(){this.element&&document.body.appendChild(this.element)}async dismiss(){this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.element=null)}};function $t(i){return function(e,t,r){let o=r.value;return r.value=async function(...s){let n=e[Pe.name]?.get(t)||[],a=s.filter((d,p)=>n?.includes(p)).join(", "),l=`${i.message} ${a}`,c=new Yt(l);window.loading=c,await c.present();try{return await o.call(this,...s)}finally{await c.dismiss()}},r}}var st=class{BASE_URL="https://api.mistral.ai/v1";async chat(i,e,t){let r={Authorization:`Bearer ${e.apiKeys.mistral}`,"Content-Type":"application/json"},o={model:e.model.name,messages:i.map(s=>({role:s.role,content:s.text})),temperature:e.temperature,top_p:e.topP,max_tokens:4096};try{let s=await fetch(`${this.BASE_URL}/chat/completions`,{method:"POST",headers:r,body:JSON.stringify(o)});if(!s.ok){let a=await s.json();throw console.error("Error from Mistral API:",a),new Error(`Mistral API error: ${s.statusText}`)}let n=await s.json();return{chat:[],message:n.choices[0].message.content}}catch(s){throw console.error("Error in Mistral chat:",s),s}}async getModelList(i){let e={Authorization:`Bearer ${i.apiKeys.mistral}`};try{let t=await fetch(`${this.BASE_URL}/models`,{method:"GET",headers:e});if(!t.ok){let r=await t.json();throw console.error("Error from Mistral API:",r),new Error(`Mistral API error: ${t.statusText}`)}return(await t.json()).data}catch(t){throw console.error("Error fetching Mistral models:",t),t}}};var nt=class{BASE_URL="https://openrouter.ai/api/v1";async chat(i,e,t){let r={Authorization:`Bearer ${e.apiKeys.openrouter}`,"Content-Type":"application/json"},o={model:e.model.name,messages:i.map(s=>({role:s.role,content:s.text})),temperature:e.temperature,top_p:e.topP,n:e.n};try{let s=await fetch(`${this.BASE_URL}/chat/completions`,{method:"POST",headers:r,body:JSON.stringify(o)});if(!s.ok){let a=await s.json();throw console.error("Error from OpenRouter API:",a),new Error(`OpenRouter API error: ${s.statusText}`)}let n=await s.json();return{chat:[],message:n.choices[0].message.content}}catch(s){throw console.error("Error in OpenRouter chat:",s),s}}async getModelList(i){let e={Authorization:`Bearer ${i.apiKeys.openrouter}`};try{let t=await fetch(`${this.BASE_URL}/models`,{method:"GET",headers:e});if(!t.ok){let r=await t.json();throw console.error("Error from OpenRouter API:",r),new Error(`OpenRouter API error: ${t.statusText}`)}return(await t.json()).data}catch(t){throw console.error("Error fetching OpenRouter models:",t),t}}};var j=class{async makeRequest(i,e,t,r,o){try{let s=await fetch(`${i}`,{method:e,headers:t,body:r?JSON.stringify(r):void 0});if(!s.ok){let a=await s.json();throw a=a.error||a,new Error(`API error: ${a.message||s.statusText}`)}let n=await s.json();return(n.choices.length>1||n.candidates.length>1)&&console.error("There are multiple choices in the response:",n),{chat:[],message:n.choices[0]?.message?.content||n.candidates[0]?.content.parts.map(a=>a.text).join(" ")}}catch(s){throw console.error("Error in API request:",s),s}}};var Xt="https://codestral.mistral.ai/v1",at=class extends j{constructor(){super()}async chat(i,e,t){let r={Authorization:`Bearer ${e.apiKeys.codestral}`,"Content-Type":"application/json"},o={model:e.model.name,messages:i.map(s=>({role:s.role,content:s.text})),temperature:e.temperature,top_p:e.topP,max_tokens:e.maxOutputTokens};return this.makeRequest(Xt+"/chat/completions","POST",r,o)}async getModelList(i){console.warn("Using Mistral API to fetch models for Codestral.");let e={Authorization:`Bearer ${i.apiKeys.mistral}`};return this.makeRequest("https://api.mistral.ai/v1/models","GET",e)}};var Ut="https://models.inference.ai.azure.com",lt=class extends j{constructor(){super()}async chat(i,e,t){let r={"Content-Type":"application/json",Authorization:`Bearer ${e.apiKeys.github}`},o={messages:i.map(s=>({role:s.role,content:s.text})),model:e.model.name,top_p:e.useConfig?e.topP:1};return this.makeRequest(Ut+"/chat/completions","POST",r,o)}async getModelList(i){let e="https://github.com/marketplace/models",t={Accept:"application/json","Accept-Language":"en-US,en;q=0.9,en-CA;q=0.8,en-IN;q=0.7","Cache-Control":"no-cache","Content-Type":"application/json"};try{let r=await fetch(e,{method:"GET",headers:t});if(!r.ok){let o=await r.text();return console.error(`Error: ${r.status} - ${o}`),{message:`Error: ${r.status} - ${o}`}}return await r.json()}catch(r){return console.error("Error fetching model list:",r),{message:"An unexpected error occurred while fetching the model list."}}}};var ct=class{getModelList(i){throw new Error("Method not implemented.")}clientId="Iv1.b507a08c87ecfe98";userAgent="GithubCopilot/1.155.0";orgExtension="true";async setup(){return this.postJson("https://github.com/login/device/code",{client_id:this.clientId,scope:"read:user"})}async continueSetup(i){let e=await this.postJson("https://github.com/login/oauth/access_token",{client_id:this.clientId,device_code:i,grant_type:"urn:ietf:params:oauth:grant-type:device_code"}),{access_token:t,expires_in:r=31536e6,error_description:o}=e;if(o)throw new Error(o);if(t){let s=Date.now()+r*1e3;this.saveToken("copilot_access_token",t,s),console.log("Authentication successful!")}}saveToken(i,e,t){localStorage.setItem(i,JSON.stringify({token:e,expiration:t}))}loadToken(i){let e=localStorage.getItem(i);if(!e)return null;let{token:t,expiration:r}=JSON.parse(e);return Date.now()>r?(localStorage.removeItem(i),null):t}async getAccessToken(i){let e=this.loadToken("copilot_access_token");if(!e){let t=await this.setup();if(await i(t))await this.continueSetup(t.device_code),e=this.loadToken("copilot_access_token");else throw new Error("User denied access")}return e}async getSessionToken(i){let e=await this.getAccessToken(i);if(!e)throw new Error("Access token not available");let t=await fetch("https://api.github.com/copilot_internal/v2/token",{method:"GET",headers:{Authorization:`token ${e}`,"User-Agent":this.userAgent,"my-org-extension":this.orgExtension}});await this.validateResponse(t);let{token:r,expires_at:o}=await t.json();if(!r||!o)throw new Error("Token not found");let s=(o-10)*1e3;return this.saveToken("copilot_session_token",r,s),r}async getToken(i){let e=this.loadToken("copilot_session_token");return e||(e=await this.getSessionToken(i)),e}async copilot(i,e="javascript",t){let r=await this.getToken(t),o="";try{let s=await fetch("https://copilot-proxy.githubusercontent.com/v1/engines/copilot-codex/completions",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json","my-org-extension":this.orgExtension},body:JSON.stringify({prompt:`${i}
`,suffix:"",max_tokens:1e3,temperature:0,top_p:1,n:1,stop:[`
`],nwo:"github/copilot.vim",stream:!0,extra:{language:e}})});if(!s.body)throw new Error("Response body is null");let n=s.body.getReader(),a=new TextDecoder,l="";for(;;){let{done:c,value:d}=await n.read();if(c)break;let p=a.decode(d,{stream:!0}).split(`
`);for(let f of p)if(l&&(f=l+f,l=""),f.startsWith("data: {"))try{let m=JSON.parse(f.slice(6)).choices[0].text||"";console.log(m),o+=m}catch(m){console.error("Error parsing JSON:",m)}else l=f}if(l.startsWith("data: {"))try{let c=JSON.parse(l.slice(6)).choices[0].text||"";console.log(c),o+=c}catch(c){console.error("Error parsing JSON:",c)}}catch(s){console.error("Connection error:",s)}return console.log("FinalResult",o),o}async chat(i,e,t){let r=i.map(o=>({content:o.text,role:o.role==="user"?"user":"assistant"}));return this.commonGitHubChat(r,e,t)}async commonGitHubChat(i,e,t){let r=await this.getToken(t),o=await fetch("https://api.githubcopilot.com/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Editor-Version":"vscode/1.80.1","Content-Type":"application/json","my-org-extension":this.orgExtension},body:JSON.stringify({intent:!1,model:e.model.name,temperature:e.useConfig?e.temperature:0,top_p:e.useConfig?e.topP:1,n:e.useConfig?e.n:1,messages:i})});if(o.status===401)throw localStorage.removeItem("copilot_session_token"),new Error("Unauthorized");let s={chat:[],message:""};if(o.status===429){let l=parseInt(o.headers.get("x-ratelimit-user-retry-after")||"86400")*1e3,c=Date.now()+l;return s.retryAfter={status:429,message:`Rate limit exceeded. Please try again after ${new Date(c).toLocaleString()}.`,retryAfter:l},s}await this.validateResponse(o);let{choices:n}=await o.json();n.length>1&&console.error("There are multiple choices in the response:",n);let a=n[0].message.content;return{chat:[],message:a}}async postJson(i,e,t={}){let r=await fetch(i,{method:"POST",headers:g({Accept:"application/json","Content-Type":"application/json","User-Agent":this.userAgent,"my-org-extension":this.orgExtension},t),body:JSON.stringify(e)});return await this.validateResponse(r),r.json()}async validateResponse(i){if(!i.ok){let e="";try{e=await i.json()}catch{}throw new Error(JSON.stringify(e)||i.statusText)}}};var dt=class{BASE_URL="https://generativelanguage.googleapis.com/v1beta/models";async chat(i,e,t){let r=e.apiKeys.google,o=e.model.name,s={contents:i.map(n=>({role:n.role==="assistant"?"model":"user",parts:[{text:n.text}]})),generationConfig:{temperature:e.useConfig?e.temperature:1,topK:e.useConfig?e.topK:64,topP:e.useConfig?e.topP:.95,maxOutputTokens:e.maxOutputTokens,responseMimeType:"text/plain"}};try{let n=await fetch(`${this.BASE_URL}/${o}:generateContent?key=${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!n.ok){let l=await n.json();throw l=l.error||l,new Error(`Google Gemini API error: ${l.message||n.statusText}`)}let a=await n.json();return a.candidates.length>1&&console.error("There are multiple choices in the response:",a),{chat:[],message:a.candidates[0].content.parts.map(l=>l.text).join(" ")}}catch(n){throw console.error("Error in Google Gemini chat:",n),n}}async getModelList(i){let e=i.apiKeys.google;try{let t=await fetch(`${this.BASE_URL}?key=${e}`,{method:"GET"});if(!t.ok){let r=await t.json();throw console.error("Error from Google Gemini API:",r),new Error(`Google Gemini API error: ${t.statusText}`)}return(await t.json()).models}catch(t){throw console.error("Error fetching Google Gemini models:",t),t}}};var ht=class{BASE_URL="https://api.groq.com/openai/v1";async chat(i,e,t){let r={Authorization:`Bearer ${e.apiKeys.qroq}`,"Content-Type":"application/json"},o={model:e.model.name,messages:i.map(s=>({role:s.role,content:s.text})),temperature:e.temperature,top_p:e.topP,n:e.n};try{let s=await fetch(`${this.BASE_URL}/chat/completions`,{method:"POST",headers:r,body:JSON.stringify(o)});if(!s.ok){let a=await s.json();throw console.error("Error from Qroq API:",a),new Error(`Qroq API error: ${s.statusText}`)}let n=await s.json();return{chat:[],message:n.choices[0].message.content}}catch(s){throw console.error("Error in Qroq chat:",s),s}}async getModelList(i){let e={Authorization:`Bearer ${i.apiKeys.qroq}`};try{let t=await fetch(`${this.BASE_URL}/models`,{method:"GET",headers:e});if(!t.ok){let r=await t.json();throw console.error("Error from Qroq API:",r),new Error(`Qroq API error: ${t.statusText}`)}return(await t.json()).data}catch(t){throw console.error("Error fetching Qroq models:",t),t}}};var Gt="https://api.anthropic.com/v1",pt=class extends j{constructor(){super()}async chat(i,e,t){let r={"x-api-key":e.apiKeys.claude,"anthropic-version":"2023-06-01","Content-Type":"application/json"},o={model:e.model.name,messages:i.map(s=>({role:s.role,content:s.text})),max_tokens:e.maxOutputTokens,temperature:e.temperature,top_p:e.topP,system:"assistant"};return this.makeRequest(Gt+"/messages","POST",r,o)}async getModelList(i){return console.warn("Anthropic Claude does not have a model list endpoint. Returning a predefined list."),[{name:"claude-3-opus-20240229"},{name:"claude-3-sonnet-20240229"},{name:"claude-3-haiku-20240307"},{name:"claude-2.1"},{name:"claude-2.0"},{name:"claude-instant-1.2"}]}};var Te=class{services=new Map([["Gemini",new dt],["GithubModels",new lt],["GithubVsc",new ct],["AnthropicClaude",new pt],["Codestral",new at],["Mistral",new st],["OpenRouter",new nt],["Groq",new ht]]);async getAIService(i){let e=this.resolveModel(i),t=this.services.get(e.org);if(!t)throw new Error(`Service not found for ${e.org}`);return t}loadModels(i){let e={Gemini:["gemini-2.5-flash-preview-04-17","gemini-2.0-flash-lite-001","gemini-2.0-flash-lite","gemini-2.5-pro-preview-05-06","gemini-2.5-pro-preview-03-25","gemini-2.0-flash","gemini-2.0-flash-preview-image-generation","gemini-2.0-pro-exp-02-05","gemini-exp-1206","gemini-2.0-flash-thinking-exp-1219","gemini-2.0-flash-exp","gemini-1.5-pro-latest","gemini-1.5-pro-002","gemini-1.5-pro","gemini-1.5-flash","gemini-1.0-pro-latest","gemini-1.0-pro","gemini-1.5-flash-8b","learnlm-1.5-pro-experimental","gemini-exp-1114","gemini-exp-1121"],GithubVsc:["gpt-4.1","gpt-4o","o4-mini","gemini-2.5-pro","claude-3.5-sonnet","claude-3.7-sonnet","o1","o1-mini","gpt-4o-mini","gpt-4.1-mini","gpt-4.1-nano","o3","o3-mini","gpt-4.5","gpt-4-turbo"],GithubModels:["gpt-4o","gpt-4o-mini","o1-mini","o1-preview","text-embedding-3-large","text-embedding-3-small","Phi-3.5-MoE-instruct","Phi-3.5-mini-instruct","Phi-3.5-vision-instruct","Phi-3-medium-128k-instruct","Phi-3-medium-4k-instruct","Phi-3-mini-128k-instruct","Phi-3-mini-4k-instruct","Phi-3-small-128k-instruct","Phi-3-small-8k-instruct","AI21-Jamba-1.5-Large","AI21-Jamba-1.5-Mini","Cohere-command-r","Cohere-command-r-08-2024","Cohere-command-r-plus","Cohere-command-r-plus-08-2024","Cohere-embed-v3-english","Cohere-embed-v3-multilingual","Llama-3.2-11B-Vision-Instruct","Llama-3.2-90B-Vision-Instruct","Llama-3.3-70B-Instruct","Meta-Llama-3.1-405B-Instruct","Meta-Llama-3.1-70B-Instruct","Meta-Llama-3.1-8B-Instruct","Meta-Llama-3-70B-Instruct","Meta-Llama-3-8B-Instruct","Ministral-3B","Mistral-Large-2411","Mistral-Nemo","Mistral-large","Mistral-large-2407","Mistral-small","jais-30b-chat"],AnthropicClaude:["claude-3-opus-20240229","claude-3-sonnet-20240229","claude-3-haiku-20240307","claude-2.1","claude-2.0","claude-instant-1.2"],Codestral:["codestral-latest"],Mistral:["mistral-small-latest","mistral-medium-latest","mistral-large-latest"],OpenRouter:["mistralai/mistral-7b-instruct","nousresearch/nous-capybara-7b","openrouter/cinematika-7b","gryphe/mythomist-7b"],Groq:["llama2-70b-4096","mixtral-8x7b-32768"]},t=Object.entries(e).flatMap(([r,o])=>o.map(s=>({name:s,org:r})));return i.models=this.updateStoredModels(i.models,t),localStorage.setItem("settings",JSON.stringify(i)),i.models.map(r=>this.updateModelStatus(r)).sort((r,o)=>{let s=t.findIndex(a=>a.name===r.name&&a.org===r.org),n=t.findIndex(a=>a.name===o.name&&a.org===o.org);return s-n})}updateStoredModels(i,e){return e.forEach(t=>{i.some(r=>r.name===t.name&&r.org===t.org)||i.push(t)}),i.filter(t=>e.some(r=>r.name===t.name&&r.org===t.org))}updateModelStatus(i){if(i.retryAfter&&i.retryAfterCreatedAt){let e=new Date(i.retryAfterCreatedAt).getTime()+i.retryAfter*1e3;i.retryAfterDate=new Date(e).toLocaleTimeString(),i.disabled=e>Date.now()}return i}resolveModel(i){let e=this.loadModels(i).find(t=>t.name===i.model.name&&t.org===i.model.org);if(!e)throw new Error("Model not found");if(e.disabled)throw new Error(`Model is disabled. Please try again after ${e.retryAfterDate}`);return e}async message(i,e,t){return this.chat([{role:"user",text:i,date:new Date}],e,t)}async chat(i,e,t){e.maxOutputTokens??=8192*4;let r=await(await this.getAIService(e)).chat(i,e,t);return r.chat||(r.chat=[]),r.chat.push(...i,{role:"assistant",text:r.message,date:new Date}),r}};var w={FILE_START:"#FILE:",FILE_END:"#END_FILE"};var Ae=`#INDENTATION: Use tabs (	) for indentation, not spaces.

#TabSize: Each tab equals 4 spaces visually.`,Me=`#OUTPUT FORMAT:
Please provide the code in the following format:
${w.FILE_START}<filename>
<code>
${w.FILE_END}
Make sure there are no extra code blocks (\`\`\`) or other characters before or after the code.`,qt=["Aim to reduce the code to the minimum possible by simplifying, reducing complexity, removing redundant code while retaining functionality and clarity. Minimize the number of methods, creating common methods only if used in at least two places.","Provide meaningful and descriptive names for members and variables","Prioritize performance optimizations without sacrificing code maintainability.","Ensure the code adheres to the latest industry best practices and coding standards.","Strive for modularity and reusability in code design.","Incorporate comprehensive error handling and robust exception management.","Exclude any file that has no updates in your refactoring.","Convert array initializations and imports to one-liners where possible."],le=["Use strongly typed variables, methods, and parameters for type safety. Try to create specific types for all any types if possible, to enhance type safety and reduce implicit conversions.","Place all type definitions at the bottom of the file."],Zt="empty",Kt=[{name:"empty",type:"Combined",excludeCommonInstructions:!0,role:"",promptTextList:[]},{name:"VanillaTSExtraction",excludeCommonInstructions:!0,type:"Combined",role:"Senior Technical Lead Engineer specializing in TypeScript",promptTextList:[{text:"Extract all Vanilla TypeScript code that has no dependencies on any other libraries into a separate file.",selected:!0},{text:"Extract/Identify/refactor common/duplicate TypeScript code into reusable code blocks",selected:!0},{text:"Create TypeScript interfaces or types for shared data structures and models.",selected:!0},{text:"Update existing code references to use the extracted utilities or interfaces.",selected:!0},...le.map(i=>({text:i,selected:!0}))]},{name:"angular",type:"Combined",role:"Senior Angular Developer specializing in Angular 19, TypeScript, and modern web development. Expert in optimizing and refactoring Angular applications for performance, scalability, and maintainability. Adept at leveraging the latest Angular features and best practices.",promptTextList:[{text:"Ensure compatibility with Angular 19 and the latest TypeScript.",selected:!0},{text:"Use Angular's new control flow syntax (e.g., @for, @if) for loops and conditional rendering.",selected:!0},{text:"Use the inject method for service injection instead of constructor injection (e.g., private readonly service = inject(Service);).",selected:!0},{text:"Leverage new Angular feature signals for DOM element selection, such as divEls = viewChildren<ElementRef>('el'); or cmp = viewChild(MyComponent, {read: ElementRef}); or modalData = input<any>();.",selected:!0},{text:"Optimize bindings and directives for performance.",selected:!0},{text:"Ensure proper use of structural directives to manage the DOM efficiently.",selected:!0},...le.map(i=>({text:i,selected:!0}))]},{name:"dotnet",type:"Combined",role:"Senior C# Developer specializing in .NET technologies with expertise in crafting modern, maintainable, and efficient software.",promptTextList:[{text:"Optimize performance by avoiding unnecessary object instantiation.",selected:!0}]},{name:"ts",type:"Individual",role:"Web Developer specializing in HTML, JavaScript, TypeScript, Angular 19, SCSS, and CSS. A quick, clever, and resourceful engineer focused on precision and near-perfection in all tasks.",promptTextList:le.map(i=>({text:i,selected:!0}))},{name:"js",type:"Individual",role:"Web Developer specializing in HTML, JavaScript, TypeScript, Angular 19, SCSS, and CSS. A quick, clever, and resourceful engineer focused on precision and near-perfection in all tasks.",promptTextList:[{text:"Ensure compatibility with modern JavaScript standards and best practices.",selected:!0}]},{name:"html",type:"Individual",role:"Web Developer specializing in HTML, JavaScript, TypeScript, Angular 19, SCSS, and CSS. A quick, clever, and resourceful engineer focused on precision and near-perfection in all tasks.",promptTextList:[{text:"Refactor the HTML code by improving structure and semantics. Ensure proper use of semantic elements for better accessibility.",selected:!0},{text:"Minimize the use of inline styles and scripts.",selected:!0},{text:"Follow best practices for responsive design and compatibility across browsers.",selected:!0}]},{name:"scss",type:"Individual",role:"Web Developer specializing in HTML, JavaScript, TypeScript, Angular 19, SCSS, and CSS. A quick, clever, and resourceful engineer focused on precision and near-perfection in all tasks.",promptTextList:[{text:"Use variables and mixins to reduce repetition.",selected:!0},{text:"Organize styles into modular components.",selected:!0},{text:"Ensure proper nesting of selectors.",selected:!0},{text:"Utilize variables instead of hard-coded values.",selected:!0}]},{name:"cs",type:"Individual",role:"Senior C# Developer specializing in .NET technologies with expertise in crafting modern, maintainable, and efficient software.",promptTextList:[]},{name:"AngularComponentRefactor",type:"Combined",role:`Senior Technical Lead Engineer specializing in Angular 19, TypeScript, and modern web development.
    Expert in optimizing and refactoring Angular applications for performance, scalability, and maintainability.
    Adept at leveraging the latest Angular features and best practices.`,promptTextList:[{text:"Refactor the Angular component code using the latest Angular 19 features, such as control flow syntax (@for, @if, @switch), deferred loading (@defer), and signals.",selected:!0},{text:"Optimize component's change detection strategy. Use OnPush where applicable and leverage signals for fine-grained reactivity.",selected:!0},{text:"Migrate to standalone components, directives, and pipes to improve modularity and reduce the reliance on NgModules.",selected:!0},{text:"Ensure optimal use of RxJS operators. Minimize subscriptions and use the async pipe where possible.",selected:!0},{text:"Refactor services to use providedIn: 'root' or other tree-shakable providers for better bundle size optimization.",selected:!0},{text:"Implement functional guards and resolvers using the inject() function for improved code readability and testability.",selected:!0},{text:"Review and optimize template structures. Minimize DOM manipulation and ensure efficient use of structural directives.",selected:!0},{text:"Ensure accessibility (a11y) best practices are followed in the component's template and logic.",selected:!1},{text:"Optimize the component's performance, including lazy loading, preloading strategies, and bundle size reduction.",selected:!0}]},{name:"TypeScriptOptimization",type:"Combined",role:`Senior Technical Lead Engineer with deep expertise in TypeScript.
    Proficient in writing clean, efficient, and type-safe code.
    Familiar with advanced TypeScript features and design patterns.`,promptTextList:[{text:"Refactor the TypeScript code to use advanced types like generics, conditional types, mapped types, and utility types (e.g., Partial, Readonly, Record, Pick) to enhance type safety and code reusability.",selected:!0},{text:"Enforce strict type checking. Eliminate implicit 'any' types and ensure all variables, function parameters, and return types are explicitly typed.",selected:!0},{text:"Leverage TypeScript's decorators to enhance class functionalities and metadata.",selected:!0},{text:"Refactor asynchronous code to use async/await for better readability and error handling. Ensure proper use of Promises and error handling mechanisms.",selected:!0},{text:"Apply design patterns such as Singleton, Factory, Observer, etc., where appropriate to improve code structure and maintainability.",selected:!0},{text:"Ensure the code is modular and follows SOLID principles. Break down large files into smaller, more manageable modules.",selected:!0},{text:"Optimize the use of enums. Consider using string enums or literal types for better type safety and debugging.",selected:!0},{text:"Document complex types and functions using JSDoc to improve code understanding and maintainability.",selected:!0},{text:"Leverage TypeScript's type inference capabilities to reduce verbosity and improve code readability.",selected:!0}]},{name:"DotNetCoreModernization",type:"Combined",role:`Senior Technical Lead Engineer specializing in .NET Core and C#.
    Expert in modernizing and optimizing .NET applications using the latest frameworks and best practices.
    Skilled in performance tuning, cloud-native development, and microservices architecture.`,promptTextList:[{text:"Refactor the C# code to use the latest language features in C# 12, such as primary constructors, collection expressions, using aliases for any type, default lambda parameters, and inline arrays.",selected:!0},{text:"Migrate the application to the latest .NET 8, taking advantage of performance improvements, new APIs, and enhanced tooling.",selected:!0},{text:"Optimize the application's startup and runtime performance. Use techniques like ahead-of-time (AOT) compilation, trimming, and startup hooks.",selected:!1},{text:"Ensure services are registered correctly in the DI container and leverage scoped, transient, and singleton lifetimes appropriately.",selected:!0},{text:"Implement asynchronous programming patterns using async and await throughout the application. Ensure proper use of Task and ValueTask for performance-critical code.",selected:!0},{text:"Implement robust logging, monitoring, and distributed tracing using Application Insights, and OpenTelemetry.",selected:!0},{text:"Ensure proper input validation and protect against common web vulnerabilities.",selected:!0}]},{name:"SQLServerOptimization",type:"Combined",excludeCommonInstructions:!0,role:`Senior Technical Lead Engineer with extensive experience in SQL Server database design, development, and optimization.
    Expert in writing efficient queries, optimizing database performance, and ensuring data integrity.
    Familiar with the latest SQL Server features and best practices.`,promptTextList:[{text:"Analyze and optimize existing SQL queries. Identify and rewrite inefficient queries, use appropriate indexing strategies, and optimize query plans.",selected:!0},{text:"Review and optimize the database schema. Ensure proper normalization, use appropriate data types, and define constraints to maintain data integrity.",selected:!0},{text:"Implement indexing strategies to improve query performance. Create clustered and non-clustered indexes, covering indexes, and filtered indexes where appropriate.",selected:!0},{text:"Optimize stored procedures and functions. Refactor complex stored procedures, use efficient T-SQL constructs, and minimize the use of cursors.",selected:!0},{text:"Stay up-to-date with the latest SQL Server features, best practices, and performance tuning techniques.",selected:!0}]},{name:"PromptEngineeringBestPractices",type:"Combined",excludeCommonInstructions:!0,role:`Senior Technical Lead Engineer specializing in prompt engineering for large language models.
    Expert in crafting effective prompts that elicit accurate, relevant, and high-quality responses.
    Familiar with various prompting techniques and strategies.`,promptTextList:[{text:"Refactor the prompt to be clear, concise, and unambiguous. Ensure the prompt provides sufficient context and instructions for the language model to understand the desired task.",selected:!0},{text:"Use appropriate prompt engineering techniques, such as few-shot learning, chain-of-thought prompting, or tree-of-thought prompting, to guide the language model's reasoning process.",selected:!0},{text:"Incorporate constraints and guidelines in the prompt to steer the language model's output towards the desired format, style, and tone.",selected:!0},{text:"Consider using prompt chaining or composition to break down complex tasks into smaller, more manageable subtasks.",selected:!0},{text:"Optimize prompts for efficiency and effectiveness, considering factors like response length, complexity, and coherence.",selected:!0}]}];var Jt=class{fileService=_(ut);aiservice=_(Te);async processFiles(i,e,t,r,o){let s=t.processingStrategy;switch(t.selectedPrompt.name!="empty"&&(e=`${e}

${Ae}

${Me}`),s){case"Individual":await this.processFilesIndividually(i,e,t,r,o);break;case"Combined":await this.processFilesCombined(i,e,t,r,o);break;case"Chat":await this.processFilesChat(i,e,t,r,o);break}}async processFilesIndividually(i,e,t,r,o){for(let s of i)try{let n=await this.fileService.getFileContent(s),a=`${e}

${s.handle.name}

${n}`;o(s,"inprogress","","");let l=await this.aiservice.message(a,t,r);this.processResponse(l,t);let c=this.fileService.extractCode(l.message);o(s,"done",c,""),await this.fileService.writeToFile(S(g({},s),{code:c}))}catch(n){console.error(n),i.forEach(a=>{o(a,"error","",n.message)})}}async processFilesCombined(i,e,t,r,o){try{let s="";for await(let l of i){let c=await this.fileService.getFileContent(l);s+=`${w.FILE_START}${l.path}
\`\`\`
${c}
\`\`\`
${w.FILE_END}

`,o(l,"inprogress","","")}let n=`${e}

${s}`,a=await this.aiservice.message(n,t,r);this.processResponse(a,t),await this.extractFilesText(a.message,i,o)}catch(s){console.error(s),i.forEach(n=>{o(n,"error","",s.message)})}}async processFilesChat(i,e,t,r,o){try{for(let s of i){let n=`#Context:
`;for await(let p of i){let f=await this.fileService.getFileContent(p);n+=`${w.FILE_START}${p.path}
\`\`\`
${f}
\`\`\`
${w.FILE_END}

`}let a=await this.fileService.getFileContent(s),l=`${e}

                Process the below single file with above context

                
${w.FILE_START}${s.path}
\`\`\`
${a}
\`\`\`
${w.FILE_END}

`,c=await this.aiservice.chat([{role:"user",text:n,date:new Date},{role:"user",text:l,date:new Date}],t,r);this.processResponse(c,t);let d=this.fileService.extractCode(c.message);o(s,"done",d,""),await this.fileService.writeToFile(S(g({},s),{code:d}))}}catch(s){console.error(s),i.forEach(n=>{o(n,"error","",s.message)})}}processResponse(i,e){if(i.retryAfter){let t=e.models.find(r=>r.name===e.model.name&&r.org===e.model.org);throw t&&(t.retryAfter=i.retryAfter.retryAfter,t.retryAfterCreatedAt=new Date().toISOString()),new Error("Rate limit exceeded. Please try again later.")}}async extractFilesText(i,e,t){let r=new RegExp(`${w.FILE_START}(.+?)
([\\s\\S]*?)${w.FILE_END}`,"g"),o;for(window.combinedMessage=i;(o=r.exec(i))!==null;){let s=o[1].trim(),n=e.find(a=>a.path===s);try{let a=this.fileService.extractCode(o[2].trim());n?(t(n,"done",a,""),this.fileService.writeToFile(S(g({},n),{code:a}))):await this.createNewFile(s,a,e,t)}catch(a){n&&t(n,"error","",a.message)}}}async createNewFile(i,e,t,r){let o=i.split("/").slice(-2,-1)[0],s=t.find(a=>a.directoryHandle?.name==o)?.directoryHandle,n={path:i,status:"done",code:e,selected:!1};if(s){let a=await s.getFileHandle(i.split("/").pop(),{create:!0});n.handle=a,n.directoryHandle=s,this.fileService.writeToFile(S(g({},n),{code:e})),r(n,"done","",e),console.log(`File created for ${i}`)}else console.error(`Directory not found for ${i}`),r(n,"error",e,`Directory not found for ${i}`)}},ut=class{async getFileContent(i){return await(await i.handle.getFile()).text()}async writeToFile(i){if(!i.handle)throw new Error("File handle is missing for path: "+i.path);let e=await i.handle.createWritable();await e.write(i.code||""),await e.close()}async saveFileAs(i){let e=await window.showSaveFilePicker({suggestedName:i.path.split("/").pop(),id:"ai-agent",startIn:i.directoryHandle}),t=S(g({},i),{handle:e,path:e.name});return await this.writeToFile(t),t}async getFilesFromDirectory(i,e){let t=[];for await(let[r,o]of i){let s=`${e}/${r}`;if(o.kind==="file")await this.requestPermission(o),t.push({handle:o,path:s,directoryHandle:i});else if(o.kind==="directory"){if(["node_modules",".git","dist","build","bin","obj","out","target"].includes(r))continue;let n=await this.getFilesFromDirectory(o,s);t.push(...n)}}return t}async requestPermission(i){if(await i.requestPermission({mode:"readwrite"})!=="granted")throw new Error("Write permissions not granted")}extractCode2(i){return i.replace(/^```.*\n/,"").replace(/```$/,"").trim()}extractCode(i){let e=i.indexOf("```");if(e===-1)return this.extractCode2(i);let t=i.indexOf(`
`,e);if(t===-1)return this.extractCode2(i);let r=i.indexOf("```",t+1);return r===-1?this.extractCode2(i):i.substring(t+1,r)}updateFileList(i,e){return i.type==="Combined"?e:e.filter(t=>t.path.split(".").pop()===i.name)}async handleDrop(i){i.preventDefault();let e=i.dataTransfer?.items??[],t=[],r=Array.from(e).map(s=>({kind:s.kind,type:s.type,getAsFileSystemHandle:s.getAsFileSystemHandle.bind(s)})).map(async s=>{if(s.kind==="file"){let n=await s.getAsFileSystemHandle();return n?n.kind==="directory"?await this.getFilesFromDirectory(n,n.name):(await this.requestPermission(n),{handle:n,path:n.name,directoryHandle:void 0}):(console.error("File handle not found"),null)}return null}),o=await Promise.all(r);return t=t.concat(...o.filter(s=>s!==null)),t}async selectFolder(){let i=await window.showDirectoryPicker({id:"ai-agent"});return this.getFilesFromDirectory(i,i.name)}async selectFiles(){let i=await window.showOpenFilePicker({multiple:!0,id:"ai-agent"}),e=[];for(let t of i)await this.requestPermission(t),e.push({handle:t,path:t.name,directoryHandle:void 0});return e}};var ft=(i=>(i.Individual="Individual",i.Combined="Combined",i.Chat="Chat",i))(ft||{});var mt=(i=>(i[i.InMemory=0]="InMemory",i[i.LocalStorage=1]="LocalStorage",i[i.SessionStorage=2]="SessionStorage",i[i.IndexedDb=3]="IndexedDb",i[i.IndexedDbSession=4]="IndexedDbSession",i[i.Firestore=5]="Firestore",i[i.OPFSSqlLite=6]="OPFSSqlLite",i[i.IndexedDbSqlite=7]="IndexedDbSqlite",i[i.WaSqlite=8]="WaSqlite",i[i.ChromeExtensionStorage=9]="ChromeExtensionStorage",i[i.LocalFileSystem=10]="LocalFileSystem",i))(mt||{}),gt=(i=>(i.Gemini="Gemini",i.AnthropicClaude="AnthropicClaude",i.Codestral="Codestral",i.Mistral="Mistral",i.OpenRouter="OpenRouter",i.Groq="Groq",i.GithubVsc="GithubVsc",i.GithubModels="GithubModels",i))(gt||{});var _t=1728e5,yt=365*24*60*60*1e3,B=class{constructor(i){this.service=i}async setItem(i,e,t="none",r=_t,o=!0){if(e==null||typeof e=="string"&&!e.trim()||Array.isArray(e)&&e.length===0){console.error(`key: ${i}, value: ${JSON.stringify(e)}: Invalid Data. Cannot save it`);return}let s=Date.now()+r,n=r>yt-1,a=o?JSON.stringify({value:e,expires:s,groupKey:t,persist:n}):{value:e,expires:s,groupKey:t,persist:n};await this.service.setItem(i,a)}async removeItem(i){await this.service.removeItem(i)}async getItem(i,e=!0){let t=await this.service.getItem(i);if(!t)return;let r=e?JSON.parse(t):t;if(r.expires>=Date.now())return r.value;r.persist||await this.removeItem(i)}async getOrLoadItem(i,e,t=!1,r="none",o=_t){if(!t){let n=await this.getItem(i);if(n!==void 0)return n}let s=await e();return await this.setItem(i,s,r,o),s}};var vt=class{cache=new Map;async setItem(i,e){this.cache.set(i,e)}async removeItem(i){this.cache.delete(i)}async getItem(i){return this.cache.get(i)??null}};var Qt=_(B,[_(vt)],"inMemoryService");var bt=class{async setItem(i,e){localStorage.setItem(i,e)}async removeItem(i){localStorage.removeItem(i)}async getItem(i){return localStorage.getItem(i)}};var ei=_(B,[_(bt)],"localStorageService");var wt=class{dbPromise=null;storeName="keyval";getDbPromise(){return this.dbPromise===null&&(typeof indexedDB>"u"?this.dbPromise=Promise.reject(new Error("IndexedDB not available")):this.dbPromise=new Promise((i,e)=>{let t=indexedDB.open("keyval-store",3);t.onerror=()=>e(t.error),t.onsuccess=()=>i(t.result),t.onupgradeneeded=()=>t.result.createObjectStore(this.storeName)})),this.dbPromise}async runTransaction(i,e){let t=await this.getDbPromise();return new Promise((r,o)=>{let s=t.transaction(this.storeName,i).objectStore(this.storeName),n=e(s);n.onsuccess=()=>r(n.result),n.onerror=()=>o(n.error)})}async getItem(i){return this.runTransaction("readonly",e=>e.get(i))}async getAllKeys(){return this.runTransaction("readonly",i=>i.getAllKeys())}async setItem(i,e){await this.runTransaction("readwrite",t=>t.put(e,i))}async removeItem(i){await this.runTransaction("readwrite",e=>e.delete(i))}};var ti=_(B,[_(wt)],"indexedDbService");var ii={apiKey:"AIzaSyDoE2UBK3TKGwW8ZIbFl-Yq5-h6zpiVPbM",authDomain:"mahindar-1.firebaseapp.com",databaseURL:"https://mahindar-1.firebaseio.com",projectId:"mahindar-1",storageBucket:"mahindar-1.appspot.com",messagingSenderId:"280446112313",appId:"1:280446112313:web:854c7107f90fdc329073e8"};var ri={version:"1.2.143",namespace:"@mahindar5/common-lib",libVersion:"unknown",libName:"unknown",commit:"fe571a37c7b36895cd7c215dbedccae921f26ea9",branch:"main",lastCommitMessage:"fix: update git push command to handle rebase on failure and add blocking rule for shaadi.com API tracking",lastCommitAuthor:"mahindar5",lastCommitDate:"2025-08-05 17:11:34 -0700",buildNumber:"1754439123609",buildId:"build-1754439123609",buildUrl:"",buildEnvironment:"development",buildHost:"pkrvmjbmru5nbw0",buildTarget:"development",nodeVersion:"v22.17.1",npmVersion:"10.9.2",os:"linux",arch:"x64",timestamp:"2025-08-06T00:12:03.595Z",buildDate:"8/6/2025",buildTime:"12:12:03 AM",dependencies:{angular:"unknown",typescript:"^5.6.3",rxjs:"unknown",materialUI:"unknown"}};var go=(()=>{class i{get vertical(){return this._vertical}set vertical(t){this._vertical=Re(t)}_vertical=!1;get inset(){return this._inset}set inset(t){this._inset=Re(t)}_inset=!1;static \u0275fac=function(r){return new(r||i)};static \u0275cmp=I({type:i,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,o){r&2&&(Ze("aria-orientation",o.vertical?"vertical":"horizontal"),$("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(r,o){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return i})(),_o=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=C({type:i});static \u0275inj=x({imports:[G,G]})}return i})();var q=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Ie=class extends q{component;viewContainerRef;injector;projectableNodes;constructor(e,t,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=o}},Z=class extends q{templateRef;viewContainerRef;context;injector;constructor(e,t,r,o){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=o}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},Fe=class extends q{element;constructor(e){super(),this.element=e instanceof T?e.nativeElement:e}},ce=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Ie)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Z)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof Fe)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},de=class extends ce{outletElement;_appRef;_defaultInjector;constructor(e,t,r){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=r}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,o=r.get(Se,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:o,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,o=e.injector||this._defaultInjector||R.NULL,s=o.get(te,r.injector);t=Ke(e.component,{elementInjector:o,environmentInjector:s,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(o=>this.outletElement.appendChild(o)),r.detectChanges(),this.setDisposeFn(()=>{let o=t.indexOf(r);o!==-1&&t.remove(o)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Co=(()=>{class i extends ce{_moduleRef=h(Se,{optional:!0});_document=h(O);_viewContainerRef=h(Y);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new D;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,o=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{let r=t.element;r.parentNode;let o=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(o,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(r,o)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||i)};static \u0275dir=F({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[xe]})}return i})();var St=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=C({type:i});static \u0275inj=x({})}return i})();var si=20,K=(()=>{class i{_ngZone=h(k);_platform=h(L);_renderer=h(M).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new y;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=si){return this._platform.isBrowser?new $e(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let o=t>0?this._scrolled.pipe(ve(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Xe()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let o=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(ee(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_scrollableContainsElement(t,r){let o=Qe(r),s=t.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}static \u0275fac=function(r){return new(r||i)};static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ni=(()=>{class i{elementRef=h(T);scrollDispatcher=h(K);ngZone=h(k);dir=h(X,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new y;_renderer=h(oe);_cleanupScroll;_elementScrolled=new y;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",t=>this._elementScrolled.next(t))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let r=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=o?t.end:t.start),t.right==null&&(t.right=o?t.start:t.end),t.bottom!=null&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),o&&V()!=N.NORMAL?(t.left!=null&&(t.right=r.scrollWidth-r.clientWidth-t.left),V()==N.INVERTED?t.left=t.right:V()==N.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let r=this.elementRef.nativeElement;ae()?r.scrollTo(t):(t.top!=null&&(r.scrollTop=t.top),t.left!=null&&(r.scrollLeft=t.left))}measureScrollOffset(t){let r="left",o="right",s=this.elementRef.nativeElement;if(t=="top")return s.scrollTop;if(t=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let n=this.dir&&this.dir.value=="rtl";return t=="start"?t=n?o:r:t=="end"&&(t=n?r:o),n&&V()==N.INVERTED?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:n&&V()==N.NEGATED?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static \u0275fac=function(r){return new(r||i)};static \u0275dir=F({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return i})(),ai=20,W=(()=>{class i{_platform=h(L);_listeners;_viewportSize;_change=new y;_document=h(O,{optional:!0});constructor(){let t=h(k),r=h(M).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let o=s=>this._change.next(s);this._listeners=[r.listen("window","resize",o),r.listen("window","orientationchange",o)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),o=t.documentElement,s=o.getBoundingClientRect(),n=-s.top||t.body.scrollTop||r.scrollY||o.scrollTop||0,a=-s.left||t.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:n,left:a}}change(t=ai){return t>0?this._change.pipe(ve(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||i)};static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Le=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=C({type:i});static \u0275inj=x({})}return i})(),Be=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=C({type:i});static \u0275inj=x({imports:[U,Le,U,Le]})}return i})();var xt=ae();function Pt(i){return new he(i.get(W),i.get(O))}var he=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=u(-this._previousScrollPosition.left),e.style.top=u(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,o=t.style,s=r.scrollBehavior||"",n=o.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),xt&&(r.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),xt&&(r.scrollBehavior=s,o.scrollBehavior=n)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};function Tt(i,e){return new pe(i.get(K),i.get(k),i.get(W),e)}var pe=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,o){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=o}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(ee(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var J=class{enable(){}disable(){}attach(){}};function ze(i,e){return e.some(t=>{let r=i.bottom<t.top,o=i.top>t.bottom,s=i.right<t.left,n=i.left>t.right;return r||o||s||n})}function Ct(i,e){return e.some(t=>{let r=i.top<t.top,o=i.bottom>t.bottom,s=i.left<t.left,n=i.right>t.right;return r||o||s||n})}function ye(i,e){return new ue(i.get(K),i.get(W),i.get(k),e)}var ue=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,o){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=o}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:o}=this._viewportRuler.getViewportSize();ze(t,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},At=(()=>{class i{_injector=h(R);constructor(){}noop=()=>new J;close=t=>Tt(this._injector,t);block=()=>Pt(this._injector);reposition=t=>ye(this._injector,t);static \u0275fac=function(r){return new(r||i)};static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Q=class{positionStrategy;scrollStrategy=new J;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var fe=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var Mt=(()=>{class i{_attachedOverlays=[];_document=h(O);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||i)};static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),It=(()=>{class i extends Mt{_ngZone=h(k);_renderer=h(M).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let r=this._attachedOverlays;for(let o=r.length-1;o>-1;o--)if(r[o]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[o]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(o){return(t||(t=ie(i)))(o||i)}})();static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ft=(()=>{class i extends Mt{_platform=h(L);_ngZone=h(k);_renderer=h(M).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let r=this._document.body,o={capture:!0},s=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[s.listen(r,"pointerdown",this._pointerDownListener,o),s.listen(r,"click",this._clickListener,o),s.listen(r,"auxclick",this._clickListener,o),s.listen(r,"contextmenu",this._clickListener,o)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=ne(t)};_clickListener=t=>{let r=ne(t),o=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let s=this._attachedOverlays.slice();for(let n=s.length-1;n>-1;n--){let a=s[n];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(kt(a.overlayElement,r)||kt(a.overlayElement,o))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(t)):l.next(t)}};static \u0275fac=(()=>{let t;return function(o){return(t||(t=ie(i)))(o||i)}})();static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function kt(i,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===i)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var Lt=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275cmp=I({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,o){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return i})(),Bt=(()=>{class i{_platform=h(L);_containerElement;_document=h(O);_styleLoader=h(Ce);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||Ee()){let o=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(t),Ee()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(Lt)}static \u0275fac=function(r){return new(r||i)};static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ne=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,o){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",o)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},me=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new y;_attachments=new y;_detachments=new y;_positionStrategy;_scrollStrategy;_locationChanges=P.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new y;_outsidePointerEvents=new y;_afterNextRenderRef;constructor(e,t,r,o,s,n,a,l,c,d=!1,p,f){this._portalOutlet=e,this._host=t,this._pane=r,this._config=o,this._ngZone=s,this._keyboardDispatcher=n,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=p,this._renderer=f,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=se(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=g(g({},this._config),e),this._updateElementSize()}setDirection(e){this._config=S(g({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=u(this._config.width),e.height=u(this._config.height),e.minWidth=u(this._config.minWidth),e.minHeight=u(this._config.minHeight),e.maxWidth=u(this._config.maxWidth),e.maxHeight=u(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Ne(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){let o=ke(t||[]).filter(s=>!!s);o.length&&(r?e.classList.add(...o):e.classList.remove(...o))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=se(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},Et="cdk-overlay-connected-position-bounding-box",li=/([A-Za-z%]+)$/;function je(i,e){return new ge(e,i.get(W),i.get(O),i.get(L),i.get(Bt))}var ge=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new y;_resizeSubscription=P.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,o,s){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=s,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(Et),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,o=this._containerRect,s=[],n;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,o,a),c=this._getOverlayPoint(l,t,a),d=this._getOverlayFit(c,t,r,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,r)){s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!n||n.overlayFit.visibleArea<d.visibleArea)&&(n={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(let c of s){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(n.position,n.originPoint);return}this._applyPosition(n.position,n.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&z(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Et),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let o;if(r.originX=="center")o=e.left+e.width/2;else{let n=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;o=r.originX=="start"?n:a}t.left<0&&(o-=t.left);let s;return r.originY=="center"?s=e.top+e.height/2:s=r.originY=="top"?e.top:e.bottom,t.top<0&&(s-=t.top),{x:o,y:s}}_getOverlayPoint(e,t,r){let o;r.overlayX=="center"?o=-t.width/2:r.overlayX==="start"?o=this._isRtl()?-t.width:0:o=this._isRtl()?0:-t.width;let s;return r.overlayY=="center"?s=-t.height/2:s=r.overlayY=="top"?0:-t.height,{x:e.x+o,y:e.y+s}}_getOverlayFit(e,t,r,o){let s=Ot(t),{x:n,y:a}=e,l=this._getOffset(o,"x"),c=this._getOffset(o,"y");l&&(n+=l),c&&(a+=c);let d=0-n,p=n+s.width-r.width,f=0-a,m=a+s.height-r.height,v=this._subtractOverflows(s.width,d,p),E=this._subtractOverflows(s.height,f,m),Ye=v*E;return{visibleArea:Ye,isCompletelyWithinViewport:s.width*s.height===Ye,fitsInViewportVertically:E===s.height,fitsInViewportHorizontally:v==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let o=r.bottom-t.y,s=r.right-t.x,n=Rt(this._overlayRef.getConfig().minHeight),a=Rt(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||n!=null&&n<=o,c=e.fitsInViewportHorizontally||a!=null&&a<=s;return l&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let o=Ot(t),s=this._viewportRect,n=Math.max(e.x+o.width-s.width,0),a=Math.max(e.y+o.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0),d=0,p=0;return o.width<=s.width?d=c||-n:d=e.x<this._viewportMargin?s.left-r.left-e.x:0,o.height<=s.height?p=l||-a:p=e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:d,y:p},{x:e.x+d,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!ci(this._lastScrollVisibility,r)){let o=new fe(e,r);this._positionChanges.next(o)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,o=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${o}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,o=this._isRtl(),s,n,a;if(t.overlayY==="top")n=e.y,s=r.height-n+this._viewportMargin;else if(t.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,s=r.height-a+this._viewportMargin;else{let m=Math.min(r.bottom-e.y+r.top,e.y),v=this._lastBoundingBoxSize.height;s=m*2,n=e.y-m,s>v&&!this._isInitialRender&&!this._growAfterOpen&&(n=e.y-v/2)}let l=t.overlayX==="start"&&!o||t.overlayX==="end"&&o,c=t.overlayX==="end"&&!o||t.overlayX==="start"&&o,d,p,f;if(c)f=r.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(l)p=e.x,d=r.right-e.x;else{let m=Math.min(r.right-e.x+r.left,e.x),v=this._lastBoundingBoxSize.width;d=m*2,p=e.x-m,d>v&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-v/2)}return{top:n,left:p,bottom:a,right:f,width:d,height:s}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,n=this._overlayRef.getConfig().maxWidth;o.height=u(r.height),o.top=u(r.top),o.bottom=u(r.bottom),o.width=u(r.width),o.left=u(r.left),o.right=u(r.right),t.overlayX==="center"?o.alignItems="center":o.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?o.justifyContent="center":o.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",s&&(o.maxHeight=u(s)),n&&(o.maxWidth=u(n))}this._lastBoundingBoxSize=r,z(this._boundingBox.style,o)}_resetBoundingBoxStyles(){z(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){z(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},o=this._hasExactPosition(),s=this._hasFlexibleDimensions,n=this._overlayRef.getConfig();if(o){let d=this._viewportRuler.getViewportScrollPosition();z(r,this._getExactOverlayY(t,e,d)),z(r,this._getExactOverlayX(t,e,d))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),n.maxHeight&&(o?r.maxHeight=u(n.maxHeight):s&&(r.maxHeight="")),n.maxWidth&&(o?r.maxWidth=u(n.maxWidth):s&&(r.maxWidth="")),z(this._pane.style,r)}_getExactOverlayY(e,t,r){let o={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),e.overlayY==="bottom"){let n=this._document.documentElement.clientHeight;o.bottom=`${n-(s.y+this._overlayRect.height)}px`}else o.top=u(s.y);return o}_getExactOverlayX(e,t,r){let o={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let n;if(this._isRtl()?n=e.overlayX==="end"?"left":"right":n=e.overlayX==="end"?"right":"left",n==="right"){let a=this._document.documentElement.clientWidth;o.right=`${a-(s.x+this._overlayRect.width)}px`}else o.left=u(s.x);return o}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ct(e,r),isOriginOutsideView:ze(e,r),isOverlayClipped:Ct(t,r),isOverlayOutsideView:ze(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,o)=>r-Math.max(o,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ke(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof T)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function z(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function Rt(i){if(typeof i!="number"&&i!=null){let[e,t]=i.split(li);return!t||t==="px"?parseFloat(e):null}return i||null}function Ot(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function ci(i,e){return i===e?!0:i.isOriginClipped===e.isOriginClipped&&i.isOriginOutsideView===e.isOriginOutsideView&&i.isOverlayClipped===e.isOverlayClipped&&i.isOverlayOutsideView===e.isOverlayOutsideView}var Dt="cdk-global-overlay-wrapper";function zt(i){return new _e}var _e=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Dt),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:o,height:s,maxWidth:n,maxHeight:a}=r,l=(o==="100%"||o==="100vw")&&(!n||n==="100%"||n==="100vw"),c=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,p=this._xOffset,f=this._overlayRef.getConfig().direction==="rtl",m="",v="",E="";l?E="flex-start":d==="center"?(E="center",f?v=p:m=p):f?d==="left"||d==="end"?(E="flex-end",m=p):(d==="right"||d==="start")&&(E="flex-start",v=p):d==="left"||d==="start"?(E="flex-start",m=p):(d==="right"||d==="end")&&(E="flex-end",v=p),e.position=this._cssPosition,e.marginLeft=l?"0":m,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":v,t.justifyContent=E,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Dt),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},Nt=(()=>{class i{_injector=h(R);constructor(){}global(){return zt()}flexibleConnectedTo(t){return je(this._injector,t)}static \u0275fac=function(r){return new(r||i)};static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function He(i,e){i.get(Ce).load(Lt);let t=i.get(Bt),r=i.get(O),o=i.get(et),s=i.get(qe),n=i.get(X),a=r.createElement("div"),l=r.createElement("div");l.id=o.getId("cdk-overlay-"),l.classList.add("cdk-overlay-pane"),a.appendChild(l),t.getContainerElement().appendChild(a);let c=new de(l,s,i),d=new Q(e),p=i.get(oe,null,{optional:!0})||i.get(M).createRenderer(null,null);return d.direction=d.direction||n.value,new me(c,a,l,d,i.get(k),i.get(It),r,i.get(Je),i.get(Ft),e?.disableAnimations??i.get(Ge,null,{optional:!0})==="NoopAnimations",i.get(te),p)}var Vt=(()=>{class i{scrollStrategies=h(At);_positionBuilder=h(Nt);_injector=h(R);constructor(){}create(t){return He(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(r){return new(r||i)};static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),di=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],jt=new be("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=h(R);return()=>ye(i)}}),Ve=(()=>{class i{elementRef=h(T);constructor(){}static \u0275fac=function(r){return new(r||i)};static \u0275dir=F({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return i})(),hi=(()=>{class i{_dir=h(X,{optional:!0});_injector=h(R);_overlayRef;_templatePortal;_backdropSubscription=P.EMPTY;_attachSubscription=P.EMPTY;_detachSubscription=P.EMPTY;_positionSubscription=P.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=h(jt);_disposeOnNavigation=!1;_ngZone=h(k);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}backdropClick=new D;positionChange=new D;attach=new D;detach=new D;overlayKeydown=new D;overlayOutsideClick=new D;constructor(){let t=h(re),r=h(Y);this._templatePortal=new Z(t,r),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=di);let t=this._overlayRef=He(this._injector,this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),r.keyCode===27&&!this.disableClose&&!tt(r)&&(r.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{let o=this._getOriginElement(),s=ne(r);(!o||o!==s&&!o.contains(s))&&this.overlayOutsideClick.next(r)})}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new Q({direction:this._dir||"ltr",positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(r.width=this.width),(this.height||this.height===0)&&(r.height=this.height),(this.minWidth||this.minWidth===0)&&(r.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){let r=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let t=je(this._injector,this._getOrigin());return this._updatePositionStrategy(t),t}_getOrigin(){return this.origin instanceof Ve?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Ve?this.origin.elementRef.nativeElement:this.origin instanceof T?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Ue(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(r){return new(r||i)};static \u0275dir=F({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",A],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",A],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",A],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",A],push:[2,"cdkConnectedOverlayPush","push",A],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",A]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[we]})}return i})();function pi(i){let e=h(R);return()=>ye(e)}var ui={provide:jt,useFactory:pi},fi=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=C({type:i});static \u0275inj=x({providers:[Vt,ui],imports:[U,St,Be,Be]})}return i})();var mi=(()=>{class i{_listeners=[];notify(t,r){for(let o of this._listeners)o(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(r){return new(r||i)};static \u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var We=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new y;constructor(e=!1,t,r=!0,o){this._multiple=e,this._emitChanges=r,this.compareWith=o,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);let t=this.selected,r=new Set(e.map(s=>this._getConcreteValue(s)));e.forEach(s=>this._markSelected(s)),t.filter(s=>!r.has(this._getConcreteValue(s,r))).forEach(s=>this._unmarkSelected(s));let o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let r of t)if(this.compareWith(e,r))return r;return e}else return e}};var fn=(()=>{class i{_animationsDisabled=it();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=I({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,o){r&2&&$("mat-pseudo-checkbox-indeterminate",o.state==="indeterminate")("mat-pseudo-checkbox-checked",o.state==="checked")("mat-pseudo-checkbox-disabled",o.disabled)("mat-pseudo-checkbox-minimal",o.appearance==="minimal")("mat-pseudo-checkbox-full",o.appearance==="full")("_mat-animation-noopable",o._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(r,o){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return i})();var _n=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=C({type:i});static \u0275inj=x({imports:[G]})}return i})();export{_ as a,De as b,Wt as c,yt as d,Qt as e,ei as f,ti as g,$t as h,ii as i,Te as j,qt as k,Zt as l,Kt as m,Jt as n,ut as o,ft as p,gt as q,ri as r,Ie as s,Z as t,ce as u,Co as v,St as w,K as x,ni as y,W as z,Le as A,Pt as B,ye as C,Q as D,Bt as E,me as F,je as G,zt as H,He as I,Ve as J,hi as K,fi as L,go as M,_o as N,mi as O,We as P,fn as Q,_n as R};
